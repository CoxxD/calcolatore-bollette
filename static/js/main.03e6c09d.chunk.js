(this["webpackJsonpcalcolatore-bollette"]=this["webpackJsonpcalcolatore-bollette"]||[]).push([[0],{100:function(e,n,t){},103:function(e,n,t){},104:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),c=t(10),o=t.n(c),s=(t(88),t(89),t(65)),r=t(66),l=t(74),d=t(72),u=(t(90),t(11)),j=t(24),h=t(153),b=t(156),O=t(144),g=t(105),m=t(68),f=t.n(m),v=(t(91),t(4)),C=function(e){var n=e.children,t=e.isExpanded,i=e.title,a=(e.handleChange,Object(j.a)(e,["children","isExpanded","title","handleChange"]));return Object(v.jsxs)(h.a,Object(u.a)(Object(u.a)({className:"accordion",expanded:t},a),{},{children:[Object(v.jsx)(b.a,{expandIcon:Object(v.jsx)(f.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(v.jsx)(g.a,{className:"title-accordion",children:i})}),Object(v.jsx)(O.a,{children:n})]}))},x=t(36),p=t(44),N=(t(97),t(98),t(152)),I=function(e){var n=e.label,t=e.handleChange,i=Object(j.a)(e,["label","handleChange"]);return Object(v.jsx)(N.a,Object(u.a)(Object(u.a)({},i),{},{label:n,type:"date",className:"date-input",onChange:function(e){var n=e.target.value;t(new Date(n))},InputLabelProps:{shrink:!0}}))},D=t(146),q=t(145),P=t(157),A=t(148),F=function(e){var n=e.title,t=e.handleChange,i=e.isPrice,a=Object(j.a)(e,["title","handleChange","isPrice"]);return Object(v.jsxs)(D.a,{fullWidth:!0,className:"form-control",children:[n?Object(v.jsx)(P.a,{htmlFor:"standard-adornment-amount",children:n}):null,Object(v.jsx)(q.a,Object(u.a)(Object(u.a)({},a),{},{type:"number",onChange:t,startAdornment:i?Object(v.jsx)(A.a,{position:"start",children:"\u20ac"}):null}))]})},k=function(e){var n=e.handleChanges,t=Object(i.useState)({costiFissi:0,costiConsumo:0,costiAggiuntivi:0,fromDate:"",toDate:""}),a=Object(p.a)(t,2),c=a[0],o=a[1];Object(i.useEffect)((function(){c&&n(c)}),[c]);var s=function(e){return function(n){l(e,n.target.value)}},r=function(e){return function(n){l(e,n)}},l=function(e,n){o(Object(u.a)(Object(u.a)({},c),{},Object(x.a)({},e,n)))};return Object(v.jsxs)("div",{className:"dettaglio-costi-container",children:[Object(v.jsxs)("div",{className:"section",children:[Object(v.jsx)("div",{className:"input-container",children:Object(v.jsx)(F,{id:"costiFissi",isPrice:!0,handleChange:s("costiFissi"),title:"Costi fissi",value:c.costiFissi})}),Object(v.jsx)("div",{className:"input-container",children:Object(v.jsx)(F,{id:"costiConsumo",isPrice:!0,handleChange:s("costiConsumo"),title:"Costi consumo",value:c.costiConsumo})}),Object(v.jsx)("div",{className:"input-container",children:Object(v.jsx)(F,{id:"costiAggiuntivi",isPrice:!0,handleChange:s("costiAggiuntivi"),title:"Costi aggiuntivi",value:c.costiAggiuntivi})})]}),Object(v.jsxs)("div",{className:"section date",children:[Object(v.jsx)("div",{className:"date-container",children:Object(v.jsx)(I,{label:"Data Inizio",id:"fromDate",handleChange:function(e){return r("fromDate")(e)}})}),Object(v.jsx)("div",{className:"date-container",children:Object(v.jsx)(I,{label:"Data Fine",id:"toDate",handleChange:function(e){return r("toDate")(e)}})})]})]})},y=t(73),B=(t(99),t(147)),E=t(149),H=t(150),w=t(154),V=(t(100),function(e){e.title;var n=e.handleChange,t=Object(j.a)(e,["title","handleChange"]);return Object(v.jsx)(D.a,{fullWidth:!0,className:"form-control",children:Object(v.jsx)(q.a,Object(u.a)(Object(u.a)({},t),{},{type:"text",placeholder:"Inserisci nome...",onChange:n}))})}),L=t(70),S=t.n(L),T=t(69),M=t.n(T),Y=function(e){var n=e.inquilino,t=e.handleChangeInput,i=e.showtrash,a=e.removeInquilinoHandler;return Object(v.jsxs)("div",{className:"inquilino-item",children:[Object(v.jsx)("div",{className:"input-container",children:Object(v.jsx)(V,{id:"name_input_".concat(n.id+1),handleChange:t(n.id,"name")})}),Object(v.jsx)("div",{className:"input-container",children:Object(v.jsx)(M.a,{editable:!0,format:"DD/MM/YYYY",multiple:!0,value:n.giorniInCasaPicker,maxDate:new Date,onChange:function(e){var i=e.map((function(e){return new Date(e.year,e.month.index,e.day,0,0,0,0).getTime()}));t(n.id,"giorni")({giorniInCasaPicker:e,giorniInCasaConverted:i})}})}),Object(v.jsx)("div",{className:"input-container",children:Object(v.jsxs)("div",{className:"value",children:[n.quotaDaPagare.toFixed(2)," \u20ac"]})}),Object(v.jsx)("div",{className:"actions-container",children:i?Object(v.jsx)(S.a,{className:"trash-icon",onClick:function(){return a(n.id)}}):null})]})},z=(t(103),function(e){var n=e.inquilini,t=e.handleChangeInput,i=e.removeInquilinoHandler;return Object(v.jsx)("div",{className:"inquilini-collection-container",children:Object(v.jsx)(B.a,{dense:!0,className:"list",children:n.map((function(e){return Object(v.jsxs)(E.a,{button:!0,children:[Object(v.jsx)(H.a,{children:Object(v.jsx)(w.a,{alt:"Avatar n\xb0".concat(e.id+1),src:"https://robohash.org/".concat(e.id,"?set=set2&size=180x180")})}),Object(v.jsx)(Y,{inquilino:e,handleChangeInput:t,showtrash:n.length>1,removeInquilinoHandler:i})]},e.id)}))})})}),J=t(71),W=t.n(J),_=t(151),G={id:0,nome:"",giorniInCasaConverted:[],giorniInCasaPicker:[],quotaDaPagare:0},K=function(e){var n=e.bolletta,t=Object(i.useState)([{id:0,nome:"",giorniInCasaConverted:[],giorniInCasaPicker:[],quotaDaPagare:0}]),a=Object(p.a)(t,2),c=a[0],o=a[1],s=Object(i.useState)(0),r=Object(p.a)(s,2),l=r[0],d=r[1];Object(i.useEffect)((function(){n&&j(c)}),[n]);var j=function(e){o(function(e,n){var t=[];e.forEach((function(e){return t.push(e.giorniInCasaConverted)}));var i=(t=[].concat.apply([],t)).reduce((function(e,n){return void 0!==e[n]?e[n].times=e[n].times+1:e[n]={times:1},e}),{}),a=n.costiFissi/e.length,c=n.costiAggiuntivi/e.length,o=n.costiConsumo/n.countDaysBolletta,s=o*(n.countDaysBolletta-Object.keys(i).length)/e.length;return e.map((function(e){var n=0;return e.giorniInCasaConverted.forEach((function(e){n+=o/i[e].times})),e.quotaDaPagare=n+a+c+s,e}))}(e,n))},h=function(e,n,t){o(c.map((function(i){return i.id===e?Object(u.a)(Object(u.a)({},i),{},Object(x.a)({},n,t)):i})))},b=function(e,n,t){j(c.map((function(i){return i.id===e?Object(u.a)(Object(u.a)({},i),{},{giorniInCasaConverted:n,giorniInCasaPicker:t}):i})))};return Object(v.jsxs)("div",{className:"dettaglio-inquilini-container",children:[Object(v.jsx)(z,{inquilini:c,handleChangeInput:function(e,n){return function(t){"giorni"===n?b(e,t.giorniInCasaConverted,t.giorniInCasaPicker):"name"===n&&h(e,"name",t.target.value)}},removeInquilinoHandler:function(e){o(c.filter((function(n){return n.id!==e})))}}),Object(v.jsx)("div",{className:"footer",children:Object(v.jsx)(_.a,{variant:"contained",color:"default",className:"add-new-inquilino-btn",startIcon:Object(v.jsx)(W.a,{}),onClick:function(){var e=l+1;d(e);var n=Object(u.a)(Object(u.a)({},G),{},{id:e});o([].concat(Object(y.a)(c),[n]))},children:"Aggiungi"})})]})},Q=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){var e;return Object(s.a)(this,t),(e=n.call(this)).accordionHandler=function(n){var t=!1,i=!1;"bolletta"===n?e.state.isCostiOpened?(t=!1,i=!1):(t=!0,i=!1):"inquilini"===n&&(e.state.isInquiliniOpened?(t=!1,i=!1):(t=!1,i=!0)),e.setState({isCostiOpened:t,isInquiliniOpened:i})},e.bollettaChangeHandler=function(n){var t=n.costiFissi,i=n.costiConsumo,a=n.costiAggiuntivi,c=void 0===a?0:a,o=n.fromDate,s=n.toDate,r=0;o&&s&&(r=Math.round(Math.abs((s-o)/864e5))+1),e.setState({bolletta:{costiFissi:t,costiConsumo:i,costiAggiuntivi:c,fromDate:o,toDate:s,countDaysBolletta:r},isBollettaValid:e.isBollettaValidControl(t,i,o,s)})},e.isBollettaValidControl=function(n,t,i,a){return Number(n)>0&&Number(t)>0&&e.isValidDate(i)&&e.isValidDate(a)},e.isValidDate=function(e){return e instanceof Date&&!isNaN(e)},e.state={isCostiOpened:!1,isInquiliniOpened:!1,bolletta:null,isBollettaValid:!1},e}return Object(r.a)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.isCostiOpened,i=n.isInquiliniOpened,a=n.isBollettaValid,c=n.bolletta;return Object(v.jsxs)("div",{className:"homepage-container",children:[Object(v.jsx)("div",{className:"title-container",children:"CALCOLA BOLLETTA"}),Object(v.jsx)("div",{className:"accordion-container",children:Object(v.jsx)(C,{title:"Dettaglio Bolletta",isExpanded:t,onChange:function(){return e.accordionHandler("bolletta")},children:Object(v.jsx)(k,{handleChanges:this.bollettaChangeHandler})})}),a?Object(v.jsx)("div",{className:"accordion-container",children:Object(v.jsx)(C,{title:"Dettaglio Inquilini",isExpanded:i,onChange:function(){return e.accordionHandler("inquilini")},children:Object(v.jsx)(K,{bolletta:c})})}):null]})}}]),t}(a.a.Component);var R=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(Q,{})})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,158)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),i(e),a(e),c(e),o(e)}))};o.a.render(Object(v.jsx)(R,{}),document.getElementById("root")),U()},88:function(e,n,t){},89:function(e,n,t){},90:function(e,n,t){},91:function(e,n,t){},97:function(e,n,t){},98:function(e,n,t){},99:function(e,n,t){}},[[104,1,2]]]);
//# sourceMappingURL=main.03e6c09d.chunk.js.map